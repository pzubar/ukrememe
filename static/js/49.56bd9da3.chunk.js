(this.webpackJsonpUkrPolitWiki=this.webpackJsonpUkrPolitWiki||[]).push([[49],{512:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(547);a(549),a(550);n.initializeApp({apiKey:"AIzaSyDT8vtFi9U-hOJw6Gk6k8LOx9Jya8KBDgc",authDomain:"ukrmemeswiki.firebaseapp.com",databaseURL:"https://ukrmemeswiki.firebaseio.com",projectId:"ukrmemeswiki",storageBucket:"",messagingSenderId:"925209845247",appId:"1:925209845247:web:aab80a95594b9e604f1bca",measurementId:"G-5MV7LGZSB9"});var r=n.database();t.b=n.firestore()},555:function(e,t,a){"use strict";var n=a(522),r=a(2),c=a.n(r),l=a(504),s=a(505),i=a(154);t.a=function(e){var t=e.title,a=e.text,o=e.categories,u=Object(r.useState)(!1),m=Object(n.a)(u,2),b=(m[0],m[1],Object(r.useState)("")),E=Object(n.a)(b,2),d=E[0],f=E[1],g=Object(r.useState)(""),p=Object(n.a)(g,2),O=p[0],v=p[1];return Object(r.useEffect)((function(){var e=document.createElement("div");e.innerHTML=a;var t=e.getElementsByTagName("img");if(t.length&&t[0].src){var r=Object(n.a)(t,1)[0];f(r.getAttribute("src")),r.parentNode.removeChild(r),v(e.innerHTML)}else v(a)}),[a]),c.a.createElement(l.a,{className:"article"},d&&c.a.createElement("img",{className:"card-img-top",src:d,alt:"Card cap"}),c.a.createElement(s.a,null,c.a.createElement("h1",null,t),o.length&&c.a.createElement("div",null,c.a.createElement("b",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0457:")," ",o.map((function(e){return c.a.createElement("span",{style:{paddingRight:5}},c.a.createElement(i.Link,{to:"/categories/".concat(e)},"#",e))}))),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:O}})))}},695:function(e){e.exports=JSON.parse("{}")},965:function(e,t,a){"use strict";a.r(t);var n=a(522),r=a(2),c=a.n(r),l=a(500),s=a(501),i=a(504),o=a(505),u=a(506),m=a(512),b=a(154),E=(a(695),a(614),a(696),a(551)),d=a(540),f=a(555),g=a(534),p=a(47);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j={labels:[],datasets:[{label:"K\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043f\u0443\u0431\u043b\u0456\u043a\u0430\u0446\u0456\u0439",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,height:500,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[]}]},h={tooltips:{enabled:!1,custom:d.CustomTooltips},scales:{yAxes:[{ticks:{beginAtZero:!0,min:0}}]},maintainAspectRatio:!1},k={labels:[],datasets:[{data:[300,50,100],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]},y=function(e){var t=e.categoriesList,a=e.persons,l=(e.events,Object(r.useMemo)((function(){return Object.entries(t).filter((function(e){var t=Object(n.a)(e,2)[1],a=t.count,r=t.type;return a&&"\u041f\u0435\u0440\u0456\u043e\u0434\u0438"===r}))}),[t])),m=Object(r.useState)(j),b=Object(n.a)(m,2),d=b[0],f=b[1],g=Object(r.useState)(k),O=Object(n.a)(g,2),y=O[0],x=O[1],w=Object(r.useState)(""),N=Object(n.a)(w,2),S=N[0],C=N[1];Object(r.useEffect)((function(){if(a&&a.length){var e=a.map((function(e){var t=Object(n.a)(e,2);return v({name:t[0]},t[1])})).sort((function(e,t){return e.count>t.count?-1:1})).slice(0,10);f({labels:e.map((function(e){return e.name})),datasets:[v({},j.datasets[0],{data:e.map((function(e){return e.count}))})]})}}),[a]),Object(r.useEffect)((function(){var e={labels:l.map((function(e){return Object(n.a)(e,1)[0]})),datasets:[v({},k.datasets[0],{data:l.map((function(e){return Object(n.a)(e,2)[1].count}))})]};x(e)}),[l]);var M=c.a.useCallback((function(e){var t=Object(n.a)(e,1)[0]._model.label;C(t)}),[]);return c.a.createElement(s.a,null,S&&c.a.createElement(p.c,{to:"/categories/".concat(S)}),c.a.createElement(i.a,{style:{height:600}},c.a.createElement(u.a,null,"\u0422\u041e\u041f \u043c\u0435\u043c\u0435\u0442\u0438\u0447\u043d\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d",c.a.createElement("div",{className:"card-header-actions"},c.a.createElement("small",{className:"text-muted"},"\u0425\u0442\u043e \u043d\u0430\u0439\u0447\u0430\u0441\u0442\u0456\u0448\u0435 \u0444\u0456\u0433\u0443\u0440\u0443\u0454 \u0432 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u0445 \u043c\u0435\u043c\u0430\u0445"))),c.a.createElement(o.a,null,c.a.createElement("div",{className:"chart-wrapper"},c.a.createElement(E.a,{data:d,options:h,onElementsClick:M,height:500})))),c.a.createElement(s.a,{xs:"12"},c.a.createElement(i.a,null,c.a.createElement(u.a,null,"\u041f\u0435\u0440\u0456\u043e\u0434\u0438\u0437\u0430\u0446\u0456\u044f \u043c\u0435\u043c\u0456\u0432",c.a.createElement("div",{className:"card-header-actions"},c.a.createElement("a",{href:"http://www.chartjs.org",className:"card-header-action"},c.a.createElement("small",{className:"text-muted"},"docs")))),c.a.createElement(o.a,null,c.a.createElement("div",{className:"chart-wrapper"},c.a.createElement(E.d,{data:y,onElementsClick:M}))))))};t.default=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],E=t[1],d=Object(r.useState)(null),g=Object(n.a)(d,2),p=g[0],O=g[1],v=Object(r.useState)({}),j=Object(n.a)(v,2),h=j[0],k=j[1],x=Object(r.useMemo)((function(){return Object.keys(h).length}),[h]),w=Object(r.useMemo)((function(){return a.length}),[a]),N=Object(r.useMemo)((function(){return Object.entries(h).filter((function(e){var t=Object(n.a)(e,2)[1],a=t.count,r=t.type;return a&&"\u041f\u0435\u0440\u0441\u043e\u043d\u0438"===r}))}),[h]),S=Object(r.useMemo)((function(){return Object.entries(h).filter((function(e){var t=Object(n.a)(e,2)[1],a=t.count,r=t.type;return a&&"\u041f\u043e\u0434\u0456\u0457"===r}))}),[h]);return Object(r.useEffect)((function(){m.a.ref("/").once("value").then((function(e){var t=e.val(),a=t.articles,n=t.categories,r=a.titles,c=(a.count,Object.keys(r)),l=c[Math.floor(Math.random()*c.length)];m.b.collection("articles").doc(l).get().then((function(e){if(e.exists){console.log("Document data:",e.data());var t=e.data(),a=t.text,n=t.categories;O({title:l,text:a,categories:n})}else console.log("No such document!")})),k(n),E(Object.keys(r))}))}),[]),c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(l.a,{style:{marginTop:20}},c.a.createElement(s.a,{xs:"12"},c.a.createElement("p",null,c.a.createElement("b",null,"\u0417\u0430\u0440\u0430\u0437 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456:"))),c.a.createElement(s.a,{xs:"12",sm:"3",lg:"3"},c.a.createElement(i.a,{className:"text-white bg-info"},c.a.createElement(o.a,null,c.a.createElement("div",{className:"text-value"},w),c.a.createElement("div",null,"\u0421\u0442\u0430\u0442\u0435\u0439 \u043f\u0440\u043e \u043c\u0435\u043c\u0438")))),c.a.createElement(s.a,{xs:"12",sm:"3",lg:"3"},c.a.createElement(i.a,{className:"text-white bg-primary"},c.a.createElement(o.a,null,c.a.createElement("div",{className:"text-value"},x),c.a.createElement("div",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u0439 \u0441\u0442\u0430\u0442\u0435\u0439")))),c.a.createElement(s.a,{xs:"12",sm:"3",lg:"3"},c.a.createElement(i.a,{className:"text-white bg-warning"},c.a.createElement(o.a,null,c.a.createElement("div",{className:"text-value"},N.length),c.a.createElement("div",null,"\u041c\u0435\u043c\u0435\u0442\u0438\u0447\u043d\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d")))),c.a.createElement(s.a,{xs:"12",sm:"3",lg:"3"},c.a.createElement(i.a,{className:"text-white bg-danger"},c.a.createElement(o.a,null,c.a.createElement("div",{className:"text-value"},S.length),c.a.createElement("div",null,"\u041c\u0435\u043c\u043d\u0438\u0445 \u043f\u043e\u0434\u0456\u0439"))))),p&&c.a.createElement(l.a,null,c.a.createElement("p",null,c.a.createElement("b",null,"\u0412\u0438\u043f\u0430\u0434\u043a\u043e\u0432\u0430 \u0441\u0442\u0430\u0442\u0442\u044f")),c.a.createElement(s.a,{xs:"12",sm:"6",style:{margin:"0 auto"}},c.a.createElement(f.a,p))),c.a.createElement(l.a,null,c.a.createElement(s.a,null,c.a.createElement(i.a,null,c.a.createElement(u.a,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u0442\u0435\u0439:"),c.a.createElement(o.a,{style:{columnCount:3}},a.map((function(e){return c.a.createElement("div",{className:"article-link"},c.a.createElement(b.Link,{to:"/article/".concat(e)},e))})))))),c.a.createElement(l.a,null,c.a.createElement(y,{categoriesList:h,persons:N,events:S})))}}}]);
//# sourceMappingURL=49.56bd9da3.chunk.js.map