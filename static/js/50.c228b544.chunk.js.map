{"version":3,"sources":["models/db.js","views/Home/Home.jsx"],"names":["firebase","require","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","database","firestore","bar","labels","datasets","label","backgroundColor","borderColor","borderWidth","height","hoverBackgroundColor","hoverBorderColor","data","options","tooltips","enabled","custom","CustomTooltips","maintainAspectRatio","Home","props","useState","categoriesNumber","setCategoriesNumber","articlesList","setArticlesList","randomArticle","setRandomArticle","useEffect","ref","once","then","snapshot","val","articles","categories","titles","titlesList","count","Object","keys","randomTitle","Math","floor","random","length","db","collection","doc","get","exists","console","log","text","title","className","style","marginTop","xs","sm","lg","map","cat","paddingRight","dangerouslySetInnerHTML","__html","columnCount","article","to","href","highcharts","Highcharts","chart","plotBackgroundColor","plotBorderWidth","plotShadow","type","tooltip","pointFormat","plotOptions","pie","allowPointSelect","cursor","dataLabels","format","series","name","colorByPoint","y","sliced","selected"],"mappings":"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","file":"static/js/50.c228b544.chunk.js","sourcesContent":["const firebase = require(\"firebase\");\nrequire(\"firebase/database\");\nrequire(\"firebase/firestore\");\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDT8vtFi9U-hOJw6Gk6k8LOx9Jya8KBDgc\",\n  authDomain: \"ukrmemeswiki.firebaseapp.com\",\n  databaseURL: \"https://ukrmemeswiki.firebaseio.com\",\n  projectId: \"ukrmemeswiki\",\n  storageBucket: \"\",\n  messagingSenderId: \"925209845247\",\n  appId: \"1:925209845247:web:aab80a95594b9e604f1bca\",\n  measurementId: \"G-5MV7LGZSB9\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const database = firebase.database();\n\nexport default  firebase.firestore();\n","import React, {Component, useState, useEffect} from 'react';\nimport {Badge, Button, Card, CardBody, CardColumns, CardHeader, Col, Progress, Row, Table} from \"reactstrap\";\nimport db from '../../models/db.js'\nimport {Link} from 'react-router-dom';\nimport {database} from \"../../models/db\";\nimport test from './test'\nimport Highcharts from 'highcharts';\nimport HighchartsReact from \"highcharts-react-official\";\nimport {Bar, Line} from \"react-chartjs-2\";\nimport {CustomTooltips} from \"@coreui/coreui-plugin-chartjs-custom-tooltips\";\n\n\nconst bar = {\n  labels: ['Петро Порошенко', 'Володимир Зеленський', 'Олег Ляшко', 'Геннадій Кернес', 'Геннадій Москаль', 'Михайло Добкін', 'Юлія Тимошенко'],\n  datasets: [\n    {\n      label: 'My First dataset',\n      backgroundColor: 'rgba(255,99,132,0.2)',\n      borderColor: 'rgba(255,99,132,1)',\n      borderWidth: 1,\n      height: 500,\n      hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n      hoverBorderColor: 'rgba(255,99,132,1)',\n      data: [65, 59, 80, 81, 56, 55, 40],\n    },\n  ],\n};\n\nconst options = {\n  tooltips: {\n    enabled: false,\n    custom: CustomTooltips\n  },\n  maintainAspectRatio: false\n}\n\nconst Home = (props) => {\n  const [articlesNumber, setArticlesNumber] = useState(0);\n  const [categoriesNumber, setCategoriesNumber] = useState(0);\n  const [articlesList, setArticlesList] = useState([]);\n  const [randomArticle, setRandomArticle] = useState(null);\n\n  useEffect(() => {\n    database.ref('/').once('value').then(function (snapshot) {\n      const {articles, categories} = snapshot.val();\n      const {titles, count} = articles;\n      const titlesList = Object.keys(titles);\n      const randomTitle = titlesList[Math.floor(Math.random() * titlesList.length)];\n\n      db.collection(\"articles\")\n        .doc(randomTitle)\n        .get()\n        .then(function (doc) {\n          if (doc.exists) {\n            console.log(\"Document data:\", doc.data());\n            const {text, categories} = doc.data();\n\n            setRandomArticle({title: randomTitle, text, categories})\n          } else {\n            console.log(\"No such document!\");\n          }\n        });\n      setCategoriesNumber(Object.keys(categories).length);\n      setArticlesList(Object.keys(titles))\n    });\n  }, []);\n\n  return (\n    <div className=\"animated fadeIn\">\n      <Row style={{marginTop: 20}}>\n        <Col xs=\"12\" sm=\"6\" lg=\"6\">\n          <Card className=\"text-white bg-info\">\n            <CardBody>\n              <div className=\"text-value\">{articlesList.length}</div>\n              <div>Статей</div>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"12\" sm=\"6\" lg=\"6\">\n          <Card className=\"text-white bg-primary\">\n            <CardBody>\n              <div className=\"text-value\">{categoriesNumber}</div>\n              <div>Категорій</div>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      {randomArticle &&\n      <Row>\n        <Col>\n          <Card>\n            <CardHeader>\n              Випадкова стаття\n            </CardHeader>\n            <CardBody>\n              <h2>{randomArticle.title}</h2>\n              {randomArticle.categories && randomArticle.categories.length &&\n              <>\n                <div>\n                  <b>Категорії:</b> {randomArticle.categories.map(cat => <span style={{paddingRight: 5}}>{cat}</span>)}\n                </div>\n                <div dangerouslySetInnerHTML={{__html: randomArticle.text}}/>\n              </>\n              }\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      }\n      <Row>\n        <Col>\n          <Card>\n            <CardHeader>\n              Список статей:\n            </CardHeader>\n            <CardBody style={{columnCount: 3}}>\n              {articlesList.map(article => <div><Link to={`/article/${article}`}>{article}</Link></div>)}\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col xs=\"12\" sm=\"6\" lg=\"6\">\n          <Card style={{height: 500}}>\n            <CardHeader>\n              ТОП меметичних персон\n              <div className=\"card-header-actions\">\n                <a href=\"http://www.chartjs.org\" className=\"card-header-action\">\n                  <small className=\"text-muted\">Приклад графіків</small>\n                </a>\n              </div>\n            </CardHeader>\n            <CardBody>\n              <div className=\"chart-wrapper\">\n                <Bar data={bar} options={options} height={400}/>\n              </div>\n            </CardBody>\n          </Card>\n        </Col>\n        <Col xs=\"12\" sm=\"6\" lg=\"6\">\n          <HighchartsReact\n            highcharts={Highcharts}\n            options={{\n              chart: {\n                plotBackgroundColor: null,\n                plotBorderWidth: null,\n                plotShadow: false,\n                type: 'pie'\n              },\n              title: {\n                text: 'Періодизація мемів'\n              },\n              tooltip: {\n                pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n              },\n              plotOptions: {\n                pie: {\n                  allowPointSelect: true,\n                  cursor: 'pointer',\n                  dataLabels: {\n                    enabled: true,\n                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n                  }\n                }\n              },\n              series: [{\n                name: 'Brands',\n                colorByPoint: true,\n                data: [{\n                  name: 'Десяті',\n                  y: 61.41,\n                  sliced: true,\n                  selected: true\n                }, {\n                  name: 'Нульові',\n                  y: 11.84\n                }, {\n                  name: \"Девя'ності\",\n                  y: 10.85\n                }]\n              }]\n            }}\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default Home;\n"],"sourceRoot":""}